<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Journey to the Kubernetes world with Digital Ocean | Tanmay Bhat</title>
<meta name=keywords content><meta name=description content="Hey all! It&rsquo;s been a long time since I haven&rsquo;t written a blog about Kubernetes. So I was wandering in r/devops in Reddit and saw a post where the digital ocean is hosting a Kubernetes challenge and guess what they&rsquo;re giving away free credits of $120 to try it out free!!!
This blog is written in multiple sections from steps to apply to steps to deploy your app in Digital Ocean Kubernetes via CI/CD. Let&rsquo;s get started!"><meta name=author content="Tanmay Bhat"><link rel=canonical href=https://tanmay-bhat.github.io/posts/2021-12-11-journey-to-the-kubernetes-world-with-digital-ocean/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.45e028aa8ce0961349adf411b013ee39406be2c0bc80d4ea3fc04555f7f4611a.css integrity="sha256-ReAoqozglhNJrfQRsBPuOUBr4sC8gNTqP8BFVff0YRo=" rel="preload stylesheet" as=style><link rel=icon href=https://tanmay-bhat.github.io/memoji.png><link rel=icon type=image/png sizes=16x16 href=https://tanmay-bhat.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://tanmay-bhat.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://tanmay-bhat.github.io/apple-touch-icon.png><link rel=mask-icon href=https://tanmay-bhat.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://tanmay-bhat.github.io/posts/2021-12-11-journey-to-the-kubernetes-world-with-digital-ocean/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-6PXF78BGMY"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-6PXF78BGMY")}</script><meta property="og:url" content="https://tanmay-bhat.github.io/posts/2021-12-11-journey-to-the-kubernetes-world-with-digital-ocean/"><meta property="og:site_name" content="Tanmay Bhat"><meta property="og:title" content="Journey to the Kubernetes world with Digital Ocean"><meta property="og:description" content="Hey all! It’s been a long time since I haven’t written a blog about Kubernetes. So I was wandering in r/devops in Reddit and saw a post where the digital ocean is hosting a Kubernetes challenge and guess what they’re giving away free credits of $120 to try it out free!!!
This blog is written in multiple sections from steps to apply to steps to deploy your app in Digital Ocean Kubernetes via CI/CD. Let’s get started!"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-12-11T15:38:19+00:00"><meta property="article:modified_time" content="2021-12-11T15:38:19+00:00"><meta property="og:image" content="https://tanmay-bhat.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://tanmay-bhat.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Journey to the Kubernetes world with Digital Ocean"><meta name=twitter:description content="Hey all! It&rsquo;s been a long time since I haven&rsquo;t written a blog about Kubernetes. So I was wandering in r/devops in Reddit and saw a post where the digital ocean is hosting a Kubernetes challenge and guess what they&rsquo;re giving away free credits of $120 to try it out free!!!
This blog is written in multiple sections from steps to apply to steps to deploy your app in Digital Ocean Kubernetes via CI/CD. Let&rsquo;s get started!"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://tanmay-bhat.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Journey to the Kubernetes world with Digital Ocean","item":"https://tanmay-bhat.github.io/posts/2021-12-11-journey-to-the-kubernetes-world-with-digital-ocean/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Journey to the Kubernetes world with Digital Ocean","name":"Journey to the Kubernetes world with Digital Ocean","description":"Hey all! It\u0026rsquo;s been a long time since I haven\u0026rsquo;t written a blog about Kubernetes. So I was wandering in r/devops in Reddit and saw a post where the digital ocean is hosting a Kubernetes challenge and guess what they\u0026rsquo;re giving away free credits of $120 to try it out free!!!\nThis blog is written in multiple sections from steps to apply to steps to deploy your app in Digital Ocean Kubernetes via CI/CD. Let\u0026rsquo;s get started!\n","keywords":[],"articleBody":"Hey all! It’s been a long time since I haven’t written a blog about Kubernetes. So I was wandering in r/devops in Reddit and saw a post where the digital ocean is hosting a Kubernetes challenge and guess what they’re giving away free credits of $120 to try it out free!!!\nThis blog is written in multiple sections from steps to apply to steps to deploy your app in Digital Ocean Kubernetes via CI/CD. Let’s get started!\nChallenge Details Link of the challenge page Here Pick one challenge from the list mention in above link based on your knowledge. Create a GitHub or GitLab repo for your project Fill out the code challenge form to get DigitalOcean credits for your project Join the #kubernetes-challenge channel in the DigitalOcean Deploy Discord Complete your challenge Write about what you’ve built and share it on a blog or in your project README. Make a pull request against the Kubernetes Challenge Github Repo with information about your project Let them know you’ve completed your challenge by filling out this form Now that we’ve applied let’s take a look at one of the challenges I chose :\nDeploy a GitOps CI/CD implementation GitOps is the (only) way automate deployment pipelines for Kubernetes environments in 2022, and ArgoCD is currently one of the leading player. Install it to create a CI/CD solution, using GH Actions for actual image building.\nCluster Creation Sign in to your DO console. Click on NEW button and create a Kubernetes cluster with default values. You can customize the location of cluster nearest to your location to avoid altency issues to API server. Once you submit, it’ll take around 10-15 min for the worker nodes and API server to become ready. Click on the Actions button and download the kubeconfig file. Once you download, install kubectl binary by following steps in the Getting started section of *overview *tab. Once, kubectl in installed in your local, you can save / move the config file downloaded to your ~/.kube/config location. Now, you can connect to your API server, test it by running : kubectl get node -o wide Project setup Clone this repository using below command : git clone https://github.com/tanmay-bhat/DigitalOcean-Kubernetes-Challenge-argoCD This project contains below:\ngo app Dockerfile github actions file ( CI) Kubernetes manifest files Let’s Look mainly kustomize/base :\nHere, Deployment.yaml file contains the deployment resource YAML file. containers: - image: registry.digitalocean.com/tanmaybhat/saymyname name: saymyname ports: - name: http containerPort: 8080 imagePullSecrets: - name: tanmaybhat Notice the image registry I’m using is the Digital Ocean registry itself and not the mostly used Docker Hub.\nThe ImagePullSecrets has a name: Tanmay Bhat. This is the Kubernetes secret which has the Digital Ocean registry credentials which we will use to pull the image.\nNow let’s look at our Github actions config file :\nname: Go on: push: branches: [ main ] tags: - 'v*.*.*' jobs: build: name: Build runs-on: ubuntu-latest steps: - name: Set up Go 1.x uses: actions/setup-go@v2 with: go-version: ^1.14 - name: Check out code uses: actions/checkout@v2 - name: Extract Git Tag run: echo \"GIT_TAG=${GITHUB_REF/refs\\/tags\\//}\" \u003e\u003e $GITHUB_ENV - name: Login to Digitalocean uses: docker/login-action@v1 with: registry: registry.digitalocean.com username: ${{ secrets.DIGITAL_OCEAN_TOKEN }} password: ${{ secrets.DIGITAL_OCEAN_TOKEN }} - name: push image to digitalocean run: | docker build -t registry.digitalocean.com/tanmaybhat/saymyname:${{ env.GIT_TAG }} . docker push registry.digitalocean.com/tanmaybhat/saymyname:${{ env.GIT_TAG }} deploy: name: Deploy runs-on: ubuntu-latest needs: build steps: - name: Check out code uses: actions/checkout@v2 - name: Extract Git Tag run: echo \"GIT_TAG=${GITHUB_REF/refs\\/tags\\//}\" \u003e\u003e $GITHUB_ENV - name: update image tag in manifest uses: imranismail/setup-kustomize@v1 - run: | cd kustomize/base kustomize edit set image registry.digitalocean.com/tanmaybhat/saymyname:${{ env.GIT_TAG }} - name: Commit files run: | git config --local user.email \"action@github.com\" git config --local user.name \"GitHub Action\" git commit -am \"update image tag to ${{ env.GIT_TAG }}\" - name: Push changes uses: ad-m/github-push-action@master with: github_token: ${{ secrets.GITHUB_TOKEN }} I’m gonna explain the above section since the main goal of this article is to do CI/CD :\nThe on section says trigger this piepline if the chnages has been pushed to **Main branch with a tag in format : vx.x.x ( i.e v1.0.0 etc) On each tag push, pipeline will run 2 jobs. Build and Deploy. In Build section, the follwing steps will run on ubuntu image. Check out code step uses pre-build action actions/checkout@v2 to clone current repository into the piepline container i.e ubuntu. Extract Git Tag is used to get the latest tag pusued to main branch and store it in th environmental variable GIT_TAG. In Login to Digitalocean, since we need to push our build docker images to a private registry like Digital Ocean, I’m using docker login action to auttenticate to the DO registry. In push image to digitalocean, I’m buidling the docker image and tagging it to latest pushed tag version and pushing to my registry. Next comes, the Deploy section. here again I’m using ubuntu as base image and again getting the repository from main branch and extracting tag version from the repositiry. Once that is done, I’ll use a tool called Kustomize to update my manifest file’s docker image tag to the latest tag version. If you’re using helm charts only but not kustomize with Helm, you need to use Sed command and update the image tag in manifest file ( deployment.yaml). Later, I’m doing the commit of latest tag edit and pushing the changes back to my repo. To sum up, what the exact pipeline does whenever a new tag is pushed to main branch :\nclone the repository, build the docker image, tag it and push it to registry. update the tag in manifest file and push it back to gthe repository. You might have this question, Tanmay, this is just CI, where’s CD ? well, that’s the magic ArgoCD solves for us.\nArgoCD Setup ArgoCD by running the below commands : kubectl create namespace argocd kubectl apply -n argocd -f https://raw.githubusercontent.com/argoproj/argo-cd/stable/manifests/install.yaml Once done, you can verify its running status by running the command Next step is to retrieve the password of argocd. For that, run : kubectl -n argocd get secret argocd-initial-admin-secret -o jsonpath=\"{.data.password}\" | base64 -d By default argocd service type will be ClusterIP. That means you cant access argocd outside of your cluster. So, Let’s change that to LoadBalancer by running : kubectl patch svc argocd-server -n argocd -p '{\"spec\": {\"type\": \"LoadBalancer\"}}' Now, wait for couple more minutes for LoadBalancer to start in Digital Ocean and get the endpoint of it by running : Open the external IP in your browser and voila, you should see argocd UI login page. Login with username: admin password got from step 3. ArgoCD Configuration Once logged in to ArgoCD UI, click on new app and set the below values: application name : demo-argocd Project : default Sync Policy : Automatic Repository URL : Rivision : HEAD Path : kustomize/base Destination Cluster : https://kubernetes.default.svc Namespace : default Click create and see your app glowing in your cluster.\nthe ArgoCD magic here is that, it watches for any new changes to your repo every 3 minutes ( default ) and new changes will be auto-applied in your cluster.\nSee the comment that says: update the tag to v1.0.12 ? that was my last commit. If a new tag is committed, here’s how it’s gonna update and look\nConclusion I found DOKS to be extreme easy to set up and straightforward. From click to integrate Registry to a Kubernetes cluster, easy cluster creation and scaling up.\n","wordCount":"1244","inLanguage":"en","image":"https://tanmay-bhat.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E","datePublished":"2021-12-11T15:38:19Z","dateModified":"2021-12-11T15:38:19Z","author":{"@type":"Person","name":"Tanmay Bhat"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://tanmay-bhat.github.io/posts/2021-12-11-journey-to-the-kubernetes-world-with-digital-ocean/"},"publisher":{"@type":"Organization","name":"Tanmay Bhat","logo":{"@type":"ImageObject","url":"https://tanmay-bhat.github.io/memoji.png"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://tanmay-bhat.github.io/ accesskey=h title="Home (Alt + H)">Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://tanmay-bhat.github.io/about/ title=About><span>About</span></a></li><li><a href=https://tanmay-bhat.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://tanmay-bhat.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://tanmay-bhat.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://tanmay-bhat.github.io/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Journey to the Kubernetes world with Digital Ocean</h1><div class=post-meta><span title='2021-12-11 15:38:19 +0000 UTC'>December 11, 2021</span>&nbsp;·&nbsp;6 min&nbsp;·&nbsp;Tanmay Bhat&nbsp;|&nbsp;<a href=https://github.com/tanmay-bhat/tanmay-bhat.github.io/blob/main/content/posts/2021-12-11-journey-to-the-kubernetes-world-with-digital-ocean.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=post-content><p>Hey all! It&rsquo;s been a long time since I haven&rsquo;t written a blog about Kubernetes. So I was wandering in r/devops in Reddit and saw a post where the digital ocean is hosting a <strong>Kubernetes challenge</strong> and guess what they&rsquo;re giving away free credits of <em>$120</em> to try it out free!!!</p><p>This blog is written in multiple sections from steps to apply to steps to deploy your app in Digital Ocean Kubernetes via CI/CD. Let&rsquo;s get started!</p><h3 id=challenge-details>Challenge Details<a hidden class=anchor aria-hidden=true href=#challenge-details>#</a></h3><ul><li>Link of the challenge page <a href=https://www.digitalocean.com/community/pages/kubernetes-challenge>Here</a></li><li>Pick one challenge from the list mention in above link based on your knowledge.</li><li>Create a GitHub or GitLab repo for your project</li><li>Fill out the <a href=https://docs.google.com/forms/d/e/1FAIpQLSdil-lIxbh7W08zourmlt2pMWP8Sn8y3u6hhAILR9eiqhy-Ww/viewform>code challenge form</a> to get DigitalOcean credits for your project</li><li>Join the <em>#kubernetes-challenge</em> channel in the <a href=https://discord.com/invite/7AHdNue>DigitalOcean Deploy Discord</a></li><li>Complete your challenge</li><li>Write about what you’ve built and share it on a blog or in your project README.</li><li>Make a pull request against the <a href=https://github.com/do-community/kubernetes-challenge>Kubernetes Challenge Github Repo</a> with information about your project</li><li>Let them know you’ve completed your challenge by <a href=https://docs.google.com/forms/d/e/1FAIpQLSe-CT6ynhORAL04GqsvrvYn8d_6bUJuHUsMNFRG8L9mVxE1IA/viewform>filling out this form</a></li></ul><p>Now that we&rsquo;ve applied let&rsquo;s take a look at one of the challenges I chose :</p><h4 id=deploy-a-gitops-cicd-implementation><strong>Deploy a GitOps CI/CD implementation</strong><a hidden class=anchor aria-hidden=true href=#deploy-a-gitops-cicd-implementation>#</a></h4><p>GitOps is the (only) way automate deployment pipelines for Kubernetes environments in 2022, and <a href=https://argo-cd.readthedocs.io/en/stable/ArgoCD>ArgoCD</a> is currently one of the leading player. Install it to create a CI/CD solution, using <a href=https://github.com/features/actionsGithub>GH Actions</a> for actual image building.</p><h3 id=cluster-creation>Cluster Creation<a hidden class=anchor aria-hidden=true href=#cluster-creation>#</a></h3><ul><li>Sign in to your DO <a href=https://cloud.digitalocean.com/https://cloud.digitalocean.com>console</a>.</li><li>Click on NEW button and create a Kubernetes cluster with default values.</li><li>You can customize the location of cluster nearest to your location to avoid altency issues to API server.</li><li>Once you submit, it&rsquo;ll take around 10-15 min for the worker nodes and API server to become ready.</li></ul><p><img loading=lazy src=/do-cluster.png></p><ul><li>Click on the Actions button and download the <em>kubeconfig</em> file.</li></ul><p><img loading=lazy src=/do-actions.png></p><ul><li>Once you download, install kubectl binary by following steps in the <em>Getting started</em> section of *overview *tab.</li><li>Once, kubectl in installed in your local, you can save / move the config file downloaded to your <code>~/.kube/config</code> location.</li><li>Now, you can connect to your API server, test it by running :</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl get node -o wide
</span></span></code></pre></div><p><img loading=lazy src=/do-node.png></p><h3 id=project-setup>Project setup<a hidden class=anchor aria-hidden=true href=#project-setup>#</a></h3><ul><li>Clone this repository using below command :</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git clone https://github.com/tanmay-bhat/DigitalOcean-Kubernetes-Challenge-argoCD
</span></span></code></pre></div><ul><li><p>This project contains below:</p><ul><li>go app</li><li>Dockerfile</li><li>github actions file ( CI)</li><li>Kubernetes manifest files</li></ul></li></ul><p>Let&rsquo;s Look mainly <a href=https://github.com/tanmay-bhat/DigitalOcean-Kubernetes-Challenge-argoCD/tree/main/kustomize/base>kustomize/base</a> :</p><ul><li>Here, Deployment.yaml file contains the deployment resource YAML file.</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span><span style=color:#f92672>containers</span>:
</span></span><span style=display:flex><span>    - <span style=color:#f92672>image</span>: <span style=color:#ae81ff>registry.digitalocean.com/tanmaybhat/saymyname</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>name</span>: <span style=color:#ae81ff>saymyname</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>ports</span>:
</span></span><span style=display:flex><span>        - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>http</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>containerPort</span>: <span style=color:#ae81ff>8080</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>imagePullSecrets</span>:
</span></span><span style=display:flex><span>    - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>tanmaybhat</span>
</span></span></code></pre></div><ul><li><p>Notice the image registry I&rsquo;m using is the <em>Digital Ocean registry</em> itself and not the mostly used Docker Hub.</p></li><li><p>The ImagePullSecrets has a name: Tanmay Bhat. This is the Kubernetes secret which has the Digital Ocean registry credentials which we will use to pull the image.</p></li><li><p>Now let&rsquo;s look at our Github actions <a href=https://github.com/tanmay-bhat/DigitalOcean-Kubernetes-Challenge-argoCD/tree/main/.github/workflows>config file :</a></p></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span><span style=color:#f92672>name</span>: <span style=color:#ae81ff>Go</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>on</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>push</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>branches</span>: [ <span style=color:#ae81ff>main ]</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>tags</span>:
</span></span><span style=display:flex><span>      - <span style=color:#e6db74>&#39;v*.*.*&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>jobs</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>build</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Build</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>runs-on</span>: <span style=color:#ae81ff>ubuntu-latest</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#f92672>steps</span>:
</span></span><span style=display:flex><span>    - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Set up Go 1.x</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>actions/setup-go@v2</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>with</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>go-version</span>: <span style=color:#ae81ff>^1.14</span>
</span></span><span style=display:flex><span>      
</span></span><span style=display:flex><span>    - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Check out code</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>actions/checkout@v2</span>
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>    - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Extract Git Tag</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>run</span>: <span style=color:#ae81ff>echo &#34;GIT_TAG=${GITHUB_REF/refs\/tags\//}&#34; &gt;&gt; $GITHUB_ENV</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Login to Digitalocean</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>docker/login-action@v1</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>with</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>registry</span>: <span style=color:#ae81ff>registry.digitalocean.com</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>username</span>: <span style=color:#ae81ff>${{ secrets.DIGITAL_OCEAN_TOKEN }}</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>password</span>: <span style=color:#ae81ff>${{ secrets.DIGITAL_OCEAN_TOKEN }}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>push image to digitalocean</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>run</span>: |<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        docker build -t registry.digitalocean.com/tanmaybhat/saymyname:${{ env.GIT_TAG }} .
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        docker push registry.digitalocean.com/tanmaybhat/saymyname:${{ env.GIT_TAG }}</span>        
</span></span><span style=display:flex><span>  <span style=color:#f92672>deploy</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Deploy</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>runs-on</span>: <span style=color:#ae81ff>ubuntu-latest</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>needs</span>: <span style=color:#ae81ff>build</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>steps</span>:
</span></span><span style=display:flex><span>    - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Check out code</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>actions/checkout@v2</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Extract Git Tag</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>run</span>: <span style=color:#ae81ff>echo &#34;GIT_TAG=${GITHUB_REF/refs\/tags\//}&#34; &gt;&gt; $GITHUB_ENV</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>update image tag in manifest</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>imranismail/setup-kustomize@v1</span>
</span></span><span style=display:flex><span>    - <span style=color:#f92672>run</span>: |<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          cd kustomize/base
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          kustomize edit set image registry.digitalocean.com/tanmaybhat/saymyname:${{ env.GIT_TAG }}</span>          
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Commit files</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>run</span>: |<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        git config --local user.email &#34;action@github.com&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        git config --local user.name &#34;GitHub Action&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        git commit -am &#34;update image tag to ${{ env.GIT_TAG }}&#34;</span>        
</span></span><span style=display:flex><span>    - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Push changes</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>ad-m/github-push-action@master</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>with</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>github_token</span>: <span style=color:#ae81ff>${{ secrets.GITHUB_TOKEN }} </span>
</span></span></code></pre></div><p><strong>I&rsquo;m gonna explain the above section since the main goal of this article is to do CI/CD</strong> :</p><ul><li>The <em>on</em> section says trigger this piepline if the chnages has been pushed to **Main branch with a tag in format : vx.x.x ( i.e v1.0.0 etc)</li><li>On each tag push, pipeline will run 2 jobs. <strong>Build</strong> and <strong>Deploy</strong>.</li><li>In <strong>Build</strong> section, the follwing steps will run on ubuntu image.</li><li><em>Check out code</em> step uses pre-build action <code>actions/checkout@v2</code> to clone current repository into the piepline container i.e ubuntu.</li><li><em>Extract Git Tag</em> is used to get the latest tag pusued to main branch and store it in th environmental variable GIT_TAG.</li><li>In <em>Login to Digitalocean</em>, since we need to push our build docker images to a private registry like Digital Ocean, I&rsquo;m using docker login action to auttenticate to the DO registry.</li><li>In <em>push image to digitalocean</em>, I&rsquo;m buidling the docker image and tagging it to latest pushed tag version and pushing to my registry.</li><li>Next comes, the <strong>Deploy</strong> section. here again I&rsquo;m using ubuntu as base image and again getting the repository from main branch and extracting tag version from the repositiry.</li><li>Once that is done, I&rsquo;ll use a tool called <a href=https://kustomize.io/>Kustomize</a> to update my manifest file&rsquo;s docker image tag to the latest tag version.</li><li>If you&rsquo;re using helm charts only but not kustomize with Helm, you need to use <strong>Sed</strong> command and update the image tag in manifest file ( deployment.yaml).</li><li>Later, I&rsquo;m doing the commit of latest tag edit and pushing the changes back to my repo.</li></ul><hr><p>To sum up, what the exact pipeline does whenever a new tag is pushed to main branch :</p><ul><li>clone the repository, build the docker image, tag it and push it to registry.</li><li>update the tag in manifest file and push it back to gthe repository.</li></ul><p>You might have this question, Tanmay, this is just CI, where&rsquo;s CD ? well, that&rsquo;s the magic ArgoCD solves for us.</p><h3 id=argocd>ArgoCD<a hidden class=anchor aria-hidden=true href=#argocd>#</a></h3><ol><li>Setup ArgoCD by running the below commands :</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl create namespace argocd
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl apply -n argocd -f https://raw.githubusercontent.com/argoproj/argo-cd/stable/manifests/install.yaml
</span></span></code></pre></div><ol start=2><li>Once done, you can verify its running status by running the command</li></ol><p><img loading=lazy src=/do-argocd.png></p><ol start=3><li>Next step is to retrieve the password of argocd. For that, run :</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl -n argocd get secret argocd-initial-admin-secret -o jsonpath<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;{.data.password}&#34;</span> | base64 -d
</span></span></code></pre></div><ol start=4><li>By default argocd service type will be ClusterIP. That means you cant access argocd outside of your cluster. So, Let&rsquo;s change that to LoadBalancer by running :</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl patch svc argocd-server -n argocd -p <span style=color:#e6db74>&#39;{&#34;spec&#34;: {&#34;type&#34;: &#34;LoadBalancer&#34;}}&#39;</span>
</span></span></code></pre></div><ol start=5><li>Now, wait for couple more minutes for LoadBalancer to start in Digital Ocean and get the endpoint of it by running :</li></ol><p><img loading=lazy src=/do-lb.png></p><ol start=6><li>Open the external IP in your browser and voila, you should see argocd UI login page. Login with username: admin password got from step 3.</li></ol><h3 id=argocd-configuration>ArgoCD Configuration<a hidden class=anchor aria-hidden=true href=#argocd-configuration>#</a></h3><ol><li>Once logged in to ArgoCD UI, click on <em>new app</em> and set the below values:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span><span style=color:#f92672>application name </span>: <span style=color:#ae81ff>demo-argocd</span>
</span></span><span style=display:flex><span><span style=color:#f92672>Project </span>: <span style=color:#ae81ff>default</span>
</span></span><span style=display:flex><span><span style=color:#f92672>Sync Policy </span>: <span style=color:#ae81ff>Automatic</span>
</span></span><span style=display:flex><span><span style=color:#f92672>Repository URL </span>: <span style=color:#ae81ff>&lt;GITHUB REPO URL OF YOUR PROJECT&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>Rivision </span>: <span style=color:#ae81ff>HEAD</span>
</span></span><span style=display:flex><span><span style=color:#f92672>Path </span>: <span style=color:#ae81ff>kustomize/base</span>
</span></span><span style=display:flex><span><span style=color:#f92672>Destination Cluster </span>: <span style=color:#ae81ff>https://kubernetes.default.svc</span>
</span></span><span style=display:flex><span><span style=color:#f92672>Namespace </span>: <span style=color:#ae81ff>default</span>
</span></span></code></pre></div><p>Click <em>create</em> and see your app glowing in your cluster.</p><p><img loading=lazy src=/do-argo-intro.png></p><p>the ArgoCD magic here is that, it watches for any new changes to your repo every 3 minutes ( default ) and new changes will be auto-applied in your cluster.</p><p>See the comment that says: update the tag to v1.0.12 ? that was my last commit. If a new tag is committed, here&rsquo;s how it&rsquo;s gonna update and look</p><p><img loading=lazy src=/do-argo-2.png></p><h3 id=conclusion>Conclusion<a hidden class=anchor aria-hidden=true href=#conclusion>#</a></h3><p>I found DOKS to be extreme easy to set up and straightforward. From click to integrate Registry to a Kubernetes cluster, easy cluster creation and scaling up.</p><hr></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=prev href=https://tanmay-bhat.github.io/posts/2021-12-11-a-tale-of-ec2-connectivity-issue/><span class=title>« Prev</span><br><span>A tale of EC2 connectivity issue</span>
</a><a class=next href=https://tanmay-bhat.github.io/posts/2021-11-19-scheduling-pods-in-both-spot-and-on-demand-nodes-in-eks/><span class=title>Next »</span><br><span>Scheduling pods in both Spot and On-demand nodes in EKS</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share Journey to the Kubernetes world with Digital Ocean on x" href="https://x.com/intent/tweet/?text=Journey%20to%20the%20Kubernetes%20world%20with%20Digital%20Ocean&amp;url=https%3a%2f%2ftanmay-bhat.github.io%2fposts%2f2021-12-11-journey-to-the-kubernetes-world-with-digital-ocean%2f&amp;hashtags="><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Journey to the Kubernetes world with Digital Ocean on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2ftanmay-bhat.github.io%2fposts%2f2021-12-11-journey-to-the-kubernetes-world-with-digital-ocean%2f&amp;title=Journey%20to%20the%20Kubernetes%20world%20with%20Digital%20Ocean&amp;summary=Journey%20to%20the%20Kubernetes%20world%20with%20Digital%20Ocean&amp;source=https%3a%2f%2ftanmay-bhat.github.io%2fposts%2f2021-12-11-journey-to-the-kubernetes-world-with-digital-ocean%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Journey to the Kubernetes world with Digital Ocean on reddit" href="https://reddit.com/submit?url=https%3a%2f%2ftanmay-bhat.github.io%2fposts%2f2021-12-11-journey-to-the-kubernetes-world-with-digital-ocean%2f&title=Journey%20to%20the%20Kubernetes%20world%20with%20Digital%20Ocean"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Journey to the Kubernetes world with Digital Ocean on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2ftanmay-bhat.github.io%2fposts%2f2021-12-11-journey-to-the-kubernetes-world-with-digital-ocean%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Journey to the Kubernetes world with Digital Ocean on whatsapp" href="https://api.whatsapp.com/send?text=Journey%20to%20the%20Kubernetes%20world%20with%20Digital%20Ocean%20-%20https%3a%2f%2ftanmay-bhat.github.io%2fposts%2f2021-12-11-journey-to-the-kubernetes-world-with-digital-ocean%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Journey to the Kubernetes world with Digital Ocean on telegram" href="https://telegram.me/share/url?text=Journey%20to%20the%20Kubernetes%20world%20with%20Digital%20Ocean&amp;url=https%3a%2f%2ftanmay-bhat.github.io%2fposts%2f2021-12-11-journey-to-the-kubernetes-world-with-digital-ocean%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Journey to the Kubernetes world with Digital Ocean on ycombinator" href="https://news.ycombinator.com/submitlink?t=Journey%20to%20the%20Kubernetes%20world%20with%20Digital%20Ocean&u=https%3a%2f%2ftanmay-bhat.github.io%2fposts%2f2021-12-11-journey-to-the-kubernetes-world-with-digital-ocean%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://tanmay-bhat.github.io/>Tanmay Bhat</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>